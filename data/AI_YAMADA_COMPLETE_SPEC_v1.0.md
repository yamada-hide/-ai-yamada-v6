# AI山田完全仕様書 v1.0

**作成日**: 2025-12-11  
**目的**: AI山田の全体像を完全に保存し、次のセッションでも即座に想起できるようにする  
**重要**: このファイルを読めば、AI山田の全てを理解できる

---

## 🎯 **プロジェクト概要**

### **AI山田とは**
山田秀氏（プロスポーツメンタルコーチ、テニスコーチ）の3000+セッションの知見をAI化したコーチングシステム

### **現在の状況**
- ✅ AI山田v5.2.1完成（ChatGPT Custom GPT版）
- ✅ **Streamlit版を開発中**（今ここ）
- ✅ 動画解析は諦めた（MediaPipeがStreamlit Cloudで動かないため）
- ✅ **動画解析なしの診断システム**を構築中

---

## 🏗️ **技術スタック（確定済み）**

### **プラットフォーム**
✅ **Streamlit Cloud**（確定）
- 理由: 無料、簡単、カスタマイズ自由
- デプロイ: Streamlit Cloud（無料枠で10-20ユーザー同時対応）

### **AI**
✅ **OpenAI GPT-4o**
- API経由で呼び出し
- コスト: 約20円/ユーザー/月

### **データ保存**
✅ **AI Drive**（`/山田の人生設計プロジェクト/`）
- 永続保存
- 次回セッションでも確実にアクセス可能

---

## 📊 **AI山田の機能（完成済み）**

### **コア機能**
1. ✅ **3段階感情レベル判定**
   - レベル1（ポジティブ）: 即GROW
   - レベル2（葛藤）: Meta-outcome → GROW
   - レベル3（深刻）: 完全受容 → 1%の成功探し

2. ✅ **Meta-outcome（メタアウトカム）**
   - 「それが得られたら、何が得られますか？」×5-6回
   - 本質到達まで深掘り

3. ✅ **GROWモデル（50質問）**
   - Goal（SMART目標設定）
   - Reality/Resource（現状把握）
   - Options（選択肢探索）
   - Will（5W1H行動計画）

4. ✅ **35テニスメソッド**
   - 基礎技術（7）、フットワーク（4）、戦術（6）、メンタル・身体（8）、上級プレー（6）、人生統合（4）

5. ✅ **山田式エニアグラム診断**
   - 9タイプ × 3健全レベル × 3方向性 = 81パターン
   - ステルス診断（タイプ名を言わない）

6. ✅ **山田式4スタンス理論**
   - A1/A2/B1/B2の4タイプ
   - サーブ診断質問50問
   - タイプ別サーブ構造（8段階）
   - トラブルシューティング表

---

## 📁 **データファイル（AI Driveに保存済み）**

### **場所**: `/山田の人生設計プロジェクト/`

#### **コーチング関連**
1. `AI山田_v5.2.1_Instructions.md` (5.5KB)
   - コア機能のInstructions
   - 3段階感情判定、Meta-outcome、GROW、35メソッド

2. `山田式テニスメソッド集_v5.2.txt` (11KB)
   - 35テニスメソッドの詳細

3. `YAMADA_AI_COMPLETE_PACKAGE.md` (21KB)
   - 山田式エニアグラム診断システム完全版
   - 81パターンのメッセージ

#### **4スタンス理論関連** (`/11_山田式4スタンスデータ/`)
4. `yamada_4stance_complete_integration_v2.0.md` (30KB)
   - 4スタンス理論の完全統合
   - AI即時想起用キーワード索引

5. `yamada_4stance_serve_questionnaire_v1.0.md` (32KB)
   - サーブ診断質問50問（詳細版）

6. `yamada_4stance_serve_database_v1.0.md` (21KB)
   - タイプ別サーブ特性データベース
   - 8段階サーブ構造

7. `yamada_4stance_subtle_questions_v1.0.md` (24KB)
   - 「さりげなく推定」質問集40問

---

## 🎯 **山田式コーチングフロー（確定版）**

### **基本フロー**
```
【Step 1: 悩みを聞く】
↓
【Step 2: 直感的判断】
その悩みが「本質にたどり着いているか？」
↓
┌─────────────────┬─────────────────┐
│ A. 本質到達 HIGH    │ B. 本質到達 LOW     │
│ (本当のやりたいが明確)│ (表層的な悩み)      │
└─────────────────┴─────────────────┘
         ↓                           ↓
   【パスA: 技術的解決】        【パスB: Meta-outcome】
   本人が「もっと詳しく」と       「それが得られたら、
   言ったら技術的指導            何が得られますか？」×5-6回
   ↓                              ↓
   4スタンス + 35メソッド         本質到達
   + YouTube動画                  ↓
                              【GROW】
                              G→R/Resource→O→W
                              ↓
                        (さらにレベルUP希望なら)
                        → 4スタンス + 35メソッド
```

### **重要な原則**
1. ✅ **本人に答えを見つけてもらう**（すぐに答えない）
2. ✅ **ティーチングは最後**
3. ✅ **メンタル的悩みも技術的悩みも同じフロー**
4. ✅ **診断は裏側の分析ツール**（コーチングがメイン）

---

## 🔬 **診断システム（確定版）**

### **エニアグラム診断**
- **基本方針**: 会話の中でさりげなく把握（裏側で分析）
- **精度**: 会話だけで70%（十分）
- **使い方**: 最後のアドバイスで、タイプに沿った言葉を使う
- **表に出すタイミング**: 「決めてあげると安心する人」と感じたら提案

### **4スタンス診断**
- **基本方針**: 会話の中でさりげなく把握
- **精度目標**: 70-80%（会話のみ）、85%（8チェック質問）
- **使い方**: 推定したタイプに基づいて、動画・メソッドを提案
- **表に出すタイミング**: 必要・興味があると感じたら提案
- **重要**: エニアグラムと4スタンスは統合しない（ややこしいから）

---

## 💬 **あらゆるパターンの対応（山田式）**

### **初回ユーザー**
| ユーザー発言 | 山田の対応 |
|-------------|-----------|
| 「サーブが入らない」 | 深掘り質問（どのように？どの状況？逆に入る時は？）→ 入る時からメタへ |
| 「モヤモヤする」 | 共感から（どうモヤモヤする？）→ 質問で分岐 |
| 「いい天気ですね」 | 雑談に付き合う（しばらく合わせてあげる） |

### **本質到達度判定**
| ユーザー発言 | 判定 | 山田の対応 |
|-------------|------|-----------|
| 「試合に勝ちたい」 | LOW | 確実にメタで本質を見つける |
| 「自信を持ちたい」 | LOW | メタをしっかり（自信は必要ないかもしれない） |

### **パスA途中**
| ユーザー発言 | 山田の対応 |
|-------------|-----------|
| 「質問が多くてめんどい」 | 簡易版に切り替え（向き合う気がない） |
| 「タイプが違う気がする」 | どの辺が違う？→ 再診断 or とらわれない |

### **パスB途中**
| ユーザー発言 | 山田の対応 |
|-------------|-----------|
| 「わからない」（Meta-outcome中） | 言葉を変える、重複OK、誘導しない程度に例を出す |
| 「具体的に何する？」（GROW中） | 戻ったりする、誘導しない程度に例を出す |

### **パターン間移動**
| ユーザー発言 | 山田の対応 |
|-------------|-----------|
| 「でも本当はテニス楽しくない」（パスA途中） | 即座にパスB切り替え |
| 「本質がわかった」（Meta-outcome後） | 本人が楽しくイメージできそうなら→GROWへ |

### **困ったパターン**
| ユーザー発言 | 山田の対応 |
|-------------|-----------|
| 「診断だけしてください」 | 選択肢を提示 |
| 「山田秀本人と話したい」 | AIをしばらくやってきた言葉なら→直接セッション紹介 |
| 「うん」「別に」×3回 | 「ちょっと疲れてきた？今日はここまでにしよか」 |

---

## 🚀 **実装状況（現在）**

### **完成済み**
- ✅ 全データファイルがAI Driveに保存済み
- ✅ 4スタンス理論の完全統合データ（v2.0）
- ✅ さりげなく推定質問集（40問）
- ✅ AI山田の全コーチングフロー確定

### **未完成（これから）**
- ❌ StreamlitアプリへのAI Drive読み込み実装
- ❌ GPT-4への完全なシステムプロンプト統合
- ❌ 「さりげなく診断」エンジンの実装

---

## 📝 **次回セッションでの想起方法**

### **このファイルを読み込む**
```
「AI Drive の `/山田の人生設計プロジェクト/AI_YAMADA_COMPLETE_SPEC_v1.0.md`
を読み込んで、AI山田の全体像を思い出してください」
```

### **確認質問**
1. AI山田の技術スタックは？ → **Streamlit + OpenAI GPT-4o**
2. 動画解析は？ → **諦めた（MediaPipe動かないため）**
3. 診断の位置づけは？ → **裏側の分析ツール（コーチングがメイン）**
4. エニアグラムと4スタンスは？ → **統合しない（ややこしいから）**
5. データファイルの場所は？ → **AI Drive `/山田の人生設計プロジェクト/`**

---

## 🔑 **重要な設計判断（変更不可）**

### **確定事項**
1. ✅ **Streamlit Cloudで実装**（Railway.appではない）
2. ✅ **動画解析なし**（質問ベースの診断）
3. ✅ **診断は裏側のツール**（メインはコーチング）
4. ✅ **エニアグラム × 4スタンス = 統合しない**
5. ✅ **データはAI Driveに保存**（永続化）

### **変更した経緯**
- **Streamlit → Railway.app**: ❌ 戻った（Streamlit Cloudで十分）
- **動画解析あり → なし**: ❌ MediaPipe動かない→質問ベース診断に変更

---

## 📊 **ファイル構造（実装予定）**

```
AI山田Streamlitアプリ/
├── app.py（メインアプリ）
├── yamada_coach.py（コーチングロジック）
├── requirements.txt（依存パッケージ）
├── config.py（設定ファイル）
├── data/（AI Driveから読み込み）
│   ├── AI山田_v5.2.1_Instructions.md
│   ├── 山田式テニスメソッド集_v5.2.txt
│   ├── YAMADA_AI_COMPLETE_PACKAGE.md
│   └── 11_山田式4スタンスデータ/
│       ├── yamada_4stance_complete_integration_v2.0.md
│       ├── yamada_4stance_serve_questionnaire_v1.0.md
│       ├── yamada_4stance_serve_database_v1.0.md
│       └── yamada_4stance_subtle_questions_v1.0.md
└── README.md
```

---

## 🎯 **実装の次のステップ**

### **Phase 1: データ読み込み**（今すぐ）
- AI DriveからStreamlitアプリへのファイル読み込み実装
- GPT-4へのシステムプロンプト統合

### **Phase 2: 診断エンジン**（1-2日後）
- 「さりげなく診断」ロジック実装
- ユーザー発言 → タイプ推定 → アドバイス生成

### **Phase 3: テスト**（1週間後）
- 10人の生徒でβテスト
- フィードバック収集

---

## ⚠️ **絶対に忘れてはいけないこと**

1. ✅ **Streamlit Cloudで実装**（確定済み）
2. ✅ **動画解析は諦めた**（MediaPipe動かないため）
3. ✅ **データはAI Driveに保存済み**（永続化）
4. ✅ **診断は裏側のツール**（コーチングがメイン）
5. ✅ **このファイルを読めば全てを思い出せる**

---

**バージョン**: v1.0  
**作成者**: AI山田開発チーム  
**最終更新**: 2025-12-11  
**ステータス**: 完全仕様書・次回セッション用

**END OF COMPLETE SPEC v1.0**
